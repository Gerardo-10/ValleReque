{% block customCSS %}

    <link rel="stylesheet" href="{{ url_for('static', filename='css/financiamientos.css') }}">

{% endblock %}

{% block body %}
    <div class="financiamiento-container">
        <div class="financiamiento-header">
            <div>
                <h1>Financiamientos</h1>
            </div>
            <div class="financiamiento-actions">
                <button class="btn btn-danger"><i class="fas fa-trash"></i> Eliminar</button>
                <button class="btn btn-primary"><i class="fas fa-plus"></i> Agregar</button>
            </div>
        </div>

        <div class="financiamiento-filters">
            <div class="financiamiento-search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Buscar financiamiento...">
            </div>
            <div class="financiamiento-filter-selects">
                <select>
                    <option>Todos los tipos</option>
                    <option>Estatal</option>
                    <option>Privado</option>
                </select>
                <select>
                    <option>Todos los estados</option>
                    <option>Activo</option>
                    <option>Inactivo</option>
                </select>
            </div>
        </div>

        <div class="cards">
            {% for financiamiento in financiamientos %}
                <div class="card" data-id="{{ financiamiento.id }}">
                    <div class="card-header">
                        <input type="checkbox" class="card-checkbox">
                        <div class="card-logo">
                            <img src="{{ url_for('static', filename=financiamiento.imagen) }}"
                                 alt="{{ financiamiento.nombre }}">
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="card-title-badge">
                            <h2>{{ financiamiento.nombre }}</h2>
                            <span class="financiamiento-badge {% if financiamiento.estado %}active{% else %}inactive{% endif %}">
                                {% if financiamiento.estado %}Activo{% else %}Inactivo{% endif %}
                            </span>
                        </div>
                        <div class="card-info">
                            <div>
                                <span class="label">Tipo:</span>
                                {% if financiamiento.tipo == 1 %}Estatal{% elif financiamiento.tipo == 2 %}Privado{% endif %}
                                <span class="value">{{ financiamiento.tipo }}</span>
                            </div>
                            <div>
                                <span class="label">Monto:</span>
                                <span class="value">S/ {{ "{:,.2f}".format(financiamiento.monto) }}</span>
                            </div>
                            <div>
                                <span class="label">Interés:</span>
                                <span class="value highlight">{{ financiamiento.interes }}% Anual</span>
                            </div>
                            <div>
                                <span class="label">Creación:</span>
                                <span class="value">{{ financiamiento.fecha_creacion.strftime('%d/%m/%Y') }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <button class="btn-outline btn-danger toggle-status">
                            <i class="fas fa-power-off"></i> {% if financiamiento.activo %}Desactivar{% else %}
                            Activar{% endif %}
                        </button>
                        <button class="btn-outline btn-info show-details">
                            <i class="fas fa-info-circle"></i> Detalles
                        </button>
                    </div>
                </div>
            {% endfor %}
        </div>

    </div>


    <script src="{{ url_for('static', filename='js/financiamientos.js') }}"></script>
{% endblock %}